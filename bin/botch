#!/bin/bash
# Simple replacement for watch. I forget the reasoning behind it now. Possibly colour support?


INTERVAL=2

while getopts "n:c:" OPTION
do
     case $OPTION in
         n)     INTERVAL=$OPTARG;;
         c)     CMD=$OPTARG
     esac
done

while true; do
    (echo -en '\033[H'
        bash -c "$CMD" | while read LINE; do 
            echo -n "$LINE"
            echo -e '\033[0K' 
        done
        echo -en '\033[J')
    sleep $INTERVAL
done
